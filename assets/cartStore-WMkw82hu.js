import{p as v,h as r,o as P}from"./index-AwOZ9YS5.js";import{a as n}from"./axios-G2rPRu76.js";var f={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"rubby-api",BASE_URL:"/week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:c,VITE_APP_PATH:d}=f,T=v("cart",()=>{const s=r([]),u=r(0),i=r(0),e=r({loadingItem:""}),o=()=>{const t=`${c}/api/${d}/cart`;n.get(t).then(a=>{s.value=a.data.data.carts,u.value=a.data.data.final_total,i.value=a.data.data.total,console.log(s.value)})},m=t=>{e.value.loadingItem=t;const a={product_id:t,qty:1},l=`${c}/api/${d}/cart`;n.post(l,{data:a}).then(p=>{e.value.loadingItem="",alert(p.data.message),o()})},_=t=>{e.value.loadingItem=t;const a=`${c}/api/${d}/cart/${t}`;n.delete(a).then(l=>{e.value.loadingItem="",alert(l.data.message),o()})};return P(()=>{o()}),{carts:s,finalTotal:u,total:i,getCart:o,addToCart:m,removeCartItem:_,status:e}});export{T as u};
