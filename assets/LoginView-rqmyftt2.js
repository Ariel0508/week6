import{_ as c,f as m,u,o as p,c as _,a as e,m as f,k as i,v as l,F as h}from"./index-QFATr8mL.js";import{a as w}from"./axios-G2rPRu76.js";var b={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"rubby-api",BASE_URL:"/week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:v}=b,g={setup(){const n=m({username:"",password:""}),o=u();return{user:n,login:()=>{w.post(`${v}/admin/signin`,n.value).then(s=>{const{token:r,expired:a}=s.data;document.cookie=`rubbyToken=${r}; expires=${new Date(a)};`,o.push("/admin/products")}).catch(s=>{alert(s.response.data.message)})}}}},x=e("h2",null,"登入頁",-1),P={class:"container d-flex justify-content-center align-items-center vh-100 w-100 text-center"},E={class:"row"},V=e("h1",{class:"h3 mb-3 fw-normal"},"請先登入",-1),k={class:"form-floating mb-3"},y=e("label",{for:"username"},"Email address",-1),R={class:"form-floating mb-3"},T=e("label",{for:"password"},"Password",-1),A=e("button",{class:"w-100 btn btn-lg btn-primary",type:"submit"},"登入",-1),D=e("p",{class:"mt-5 mb-3 text-muted"},"© 2024",-1);function U(n,o,d,s,r,a){return p(),_(h,null,[x,e("div",P,[e("div",E,[e("form",{class:"form-signin",onSubmit:o[2]||(o[2]=f((...t)=>s.login&&s.login(...t),["prevent"]))},[V,e("div",k,[i(e("input",{type:"email",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>s.user.username=t),id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[l,s.user.username]]),y]),e("div",R,[i(e("input",{type:"password",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>s.user.password=t),id:"password",placeholder:"Password",required:""},null,512),[[l,s.user.password]]),T]),A,D],32)])])],64)}const S=c(g,[["render",U]]);export{S as default};
